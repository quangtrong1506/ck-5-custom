/*
 *             Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
import{ButtonView as _0x29d845}from'ckeditor5/src/ui.js';import{CKEditorError as _0x273d39}from'ckeditor5/src/utils.js';import{Plugin as _0x586944}from'ckeditor5/src/core.js';import{icons as _0x286e19}from'ckeditor5-collaboration/src/collaboration-core.js';export default class s extends _0x586944{static get['pluginName'](){return'TableOfContentsUI';}constructor(_0x28dff1){super(_0x28dff1),this['_licenseKeyCheckInterval']=null;}['init'](){const _0x137628=this['editor'],t=_0x137628['t'];_0x137628['ui']['componentFactory']['add']('tableOfContents',_0x4854b4=>{const _0x5e8e23=_0x137628['commands']['get']('insertTableOfContents'),_0x1b9dbe=new _0x29d845(_0x4854b4);return _0x1b9dbe['set']({'label':t('Table\x20of\x20contents'),'icon':_0x286e19['tableOfContents'],'tooltip':!0x0}),_0x1b9dbe['bind']('isEnabled')['to'](_0x5e8e23,'isEnabled'),this['listenTo'](_0x1b9dbe,'execute',()=>{_0x137628['execute']('insertTableOfContents'),_0x137628['editing']['view']['focus']();}),_0x1b9dbe;}),this['licenseKey']=_0x137628['config']['get']('licenseKey');const _0x4402a8=this['editor'];this['_licenseKeyCheckInterval']=setInterval(()=>{let _0x36b483;for(const _0xa9b7de in _0x4402a8){const _0x2b5b62=_0xa9b7de,_0x143c0c=_0x4402a8[_0x2b5b62];if('tableOfContentsLicenseKeyTrial'===_0x143c0c||'tableOfContentsLicenseKeyInvalid'===_0x143c0c||'tableOfContentsLicenseKeyValid'===_0x143c0c||'tableOfContentsLicenseKeyTrialLimit:operations'===_0x143c0c){delete _0x4402a8[_0x2b5b62],_0x36b483=_0x143c0c;break;}}if('tableOfContentsLicenseKeyInvalid'===_0x36b483)throw clearInterval(this['_licenseKeyCheckInterval']),new _0x273d39('table-of-contents-invalid-license-key',null);if('tableOfContentsLicenseKeyTrial'===_0x36b483&&console['info']('You\x20are\x20using\x20the\x20trial\x20version\x20of\x20CKEditor\x205\x20table\x20of\x20contents\x20plugin\x20with\x20limited\x20usage.\x20Make\x20sure\x20you\x20will\x20not\x20use\x20it\x20in\x20the\x20production\x20environment.'),'tableOfContentsLicenseKeyTrialLimit:operations'===_0x36b483)throw clearInterval(this['_licenseKeyCheckInterval']),new _0x273d39('table-of-contents-trial-license-key-reached-limit-changes',null);'tableOfContentsLicenseKeyValid'===_0x36b483&&clearInterval(this['_licenseKeyCheckInterval']);},0x3e8);}['destroy'](){this['_licenseKeyCheckInterval']&&clearInterval(this['_licenseKeyCheckInterval']);}}
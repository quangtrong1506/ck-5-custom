/*
 *             Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
const _0x470f=['model','downcast','length','consume','low','_customDataDowncastHeadingsConversion','headingId','conversion','writer','document','type','_registerHeadingIdAttributePostfixer','paragraph','delete','forEach','for','isRegistered','match','hasAttribute','mapper','nodeAfter','item','HeadingId','set','registerPostFixer','headingId.modelAttributeName','config','setAttribute','view','attribute:headingId:','afterInit','change','editor','toViewElement','has','removeAttribute','getAttribute','upcastDispatcher','viewItem','consumable','add','schema','heading.options','attributes','clear','string','name','get','differ','data','extend','heading1','position'];(function(_0x30b812,_0x470f1c){const _0x30a351=function(_0x3a5496){while(--_0x3a5496){_0x30b812['push'](_0x30b812['shift']());}};_0x30a351(++_0x470f1c);}(_0x470f,0x70));const _0x30a3=function(_0x30b812,_0x470f1c){_0x30b812=_0x30b812-0x0;let _0x30a351=_0x470f[_0x30b812];return _0x30a351;};import{Plugin as _0x4f4797}from'ckeditor5/src/core.js';import{uid as _0x40d1a4,priorities as _0x29eb79}from'ckeditor5/src/utils.js';export default class A extends _0x4f4797{static get['pluginName'](){return _0x30a3('0x10');}[_0x30a3('0x18')](){const _0x5f1a87=this[_0x30a3('0x1a')];if(_0x5f1a87[_0x30a3('0x14')][_0x30a3('0x29')](_0x30a3('0x13')))return;(function(_0x1a27e5){const _0x5317b2=new Map();if(_0x1a27e5)return _0x1a27e5[_0x30a3('0x8')](_0xe5d6cb=>{_0x30a3('0x6')!==_0xe5d6cb['model']&&_0x5317b2[_0x30a3('0x11')](_0xe5d6cb[_0x30a3('0x16')],_0xe5d6cb[_0x30a3('0x2f')]);}),_0x5317b2['get']('h1')||_0x5317b2[_0x30a3('0x11')]('h1',_0x30a3('0x2d')),_0x5317b2;return _0x5317b2;}(this[_0x30a3('0x1a')]['config'][_0x30a3('0x29')](_0x30a3('0x24')))[_0x30a3('0x8')]((_0x4591c3,_0x48b18f)=>{this['_customUpcastHeadingsConversion'](_0x48b18f),this['_customDataDowncastHeadingsConversion'](_0x4591c3),_0x5f1a87['model'][_0x30a3('0x23')][_0x30a3('0xa')](_0x4591c3)&&_0x5f1a87[_0x30a3('0x2f')]['schema'][_0x30a3('0x2c')](_0x4591c3,{'allowAttributes':_0x30a3('0x0')});}),this[_0x30a3('0x5')]());}['_customUpcastHeadingsConversion'](_0x235433){this[_0x30a3('0x1a')][_0x30a3('0x2b')][_0x30a3('0x1f')]['on']('element:'+_0x235433,(_0x19909b,_0x5ca4df,_0x18610a)=>{const {consumable:_0x429202,writer:_0x57608c}=_0x18610a,_0x389617=_0x5ca4df[_0x30a3('0x20')][_0x30a3('0x1e')]('id'),_0xa43152=_0x5ca4df['modelRange']['getContainedElement']();if(!(_0x389617&&_0x389617[_0x30a3('0x31')]||_0xa43152[_0x30a3('0xc')](_0x30a3('0x0'))))return _0x429202[_0x30a3('0x32')](_0x5ca4df[_0x30a3('0x20')],{'attributes':['id']}),void _0x57608c['setAttribute'](_0x30a3('0x0'),_0x40d1a4(),_0xa43152);_0x429202['consume'](_0x5ca4df[_0x30a3('0x20')],{'attributes':['id']})&&_0x57608c['setAttribute'](_0x30a3('0x0'),_0x389617,_0xa43152);},{'priority':_0x29eb79['get'](_0x30a3('0x33'))+0.5});}[_0x30a3('0x34')](_0x4fcc29){this[_0x30a3('0x1a')][_0x30a3('0x1')][_0x30a3('0x9')](_0x30a3('0x30'))['add'](_0x325e3b=>_0x325e3b['on'](_0x30a3('0x17')+_0x4fcc29,(_0x30d2c7,_0x243906,_0xabb62e)=>{if(!_0xabb62e[_0x30a3('0x21')]['consume'](_0x243906['item'],_0x30d2c7[_0x30a3('0x28')]))return;const _0x1c75cf=_0x243906[_0x30a3('0xf')]['getAttribute'](_0x30a3('0x0')),_0x27f551=_0xabb62e[_0x30a3('0xd')][_0x30a3('0x1b')](_0x243906[_0x30a3('0xf')]);_0xabb62e[_0x30a3('0x2')][_0x30a3('0x15')]('id',_0x1c75cf,_0x27f551);}));}[_0x30a3('0x5')](){const _0xc5210c=this[_0x30a3('0x1a')],_0x1e8834=new Set(),_0x1bc600=new Set();function _0x586d4c(_0x50a6f9,_0xc8209a){const _0x126a0c=_0x40d1a4();return _0x1bc600['add'](_0x126a0c),_0x50a6f9[_0x30a3('0x15')]('headingId',_0x126a0c,_0xc8209a),_0x126a0c;}function _0x550511(_0x392d65,_0x239309){_0x392d65[_0x30a3('0x1d')](_0x30a3('0x0'),_0x239309);}_0xc5210c[_0x30a3('0x2f')][_0x30a3('0x3')][_0x30a3('0x12')](_0x2bef19=>{const _0x476262=_0xc5210c[_0x30a3('0x2f')][_0x30a3('0x3')][_0x30a3('0x2a')]['getChanges']();let _0x48d35c=!0x1;for(const _0x2e6e66 of _0x476262)if('insert'==_0x2e6e66[_0x30a3('0x4')]&&_0x2e6e66[_0x30a3('0x28')]){if(_0x2e6e66[_0x30a3('0x28')][_0x30a3('0xb')](/heading\d/)){const _0x5341db=_0x2e6e66[_0x30a3('0x25')][_0x30a3('0x29')](_0x30a3('0x0'));_0x30a3('0x27')==typeof _0x5341db?_0x1e8834[_0x30a3('0x1c')](_0x5341db)?(_0x586d4c(_0x2bef19,_0x2e6e66[_0x30a3('0x2e')]['nodeAfter']),_0x48d35c=!0x0):_0x1bc600[_0x30a3('0x22')](_0x5341db):(_0x586d4c(_0x2bef19,_0x2e6e66['position']['nodeAfter']),_0x48d35c=!0x0);}else _0x30a3('0x27')==typeof _0x2e6e66['attributes'][_0x30a3('0x29')](_0x30a3('0x0'))&&(_0x550511(_0x2bef19,_0x2e6e66[_0x30a3('0x2e')][_0x30a3('0xe')]),_0x48d35c=!0x0);}else{if('remove'==_0x2e6e66[_0x30a3('0x4')]){const _0x2b56ee=_0x2e6e66[_0x30a3('0x25')][_0x30a3('0x29')]('headingId');_0x30a3('0x27')==typeof _0x2b56ee&&_0x1e8834[_0x30a3('0x7')](_0x2b56ee);}}return _0x48d35c;}),_0xc5210c['model'][_0x30a3('0x3')]['on'](_0x30a3('0x19'),()=>{_0x1bc600['forEach'](_0x5a25f7=>_0x1e8834['add'](_0x5a25f7)),_0x1bc600[_0x30a3('0x26')]();});}}
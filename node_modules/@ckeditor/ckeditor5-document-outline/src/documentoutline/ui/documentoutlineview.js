/*
 *             Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
import{View as _0x459d56}from'ckeditor5/src/ui.js';import{scrollAncestorsToShowTarget as _0x3f6def}from'ckeditor5/src/utils.js';import _0x180c61 from'./documentoutlineitemview.js';export default class h extends _0x459d56{constructor(_0x562fc1,_0x28963a=!0x1,_0x5275a7){super(_0x562fc1);const t=_0x562fc1['t'];this['showEmptyHeadingText']=_0x28963a,this['set']('activeItemIndex',-0x1),this['_documentOutlineContainer']=_0x5275a7,this['items']=this['createCollection'](),this['items']['delegate']('click')['to'](this),this['on']('click',this['_handleItemClick']['bind'](this)),this['on']('change:activeItemIndex',(_0xaa1a4c,_0x2c12f3,_0x4333d4,_0x173dc8)=>{this['_setActiveItem'](_0x173dc8,_0x4333d4);}),this['setTemplate']({'tag':'div','attributes':{'class':['ck','ck-reset','ck-document-outline'],'dir':_0x562fc1['contentLanguageDirection'],'data-document-outline-empty-placeholder':t('Editor\x20headings\x20will\x20appear\x20here\x20as\x20you\x20type.'),'tabindex':-0x1},'children':this['items']});}['sync'](_0x581ac2){_0x581ac2['forEach'](_0x1a08b9=>{'insert'==_0x1a08b9['type']?this['_insertItem'](_0x1a08b9['index'],..._0x1a08b9['values']):'delete'==_0x1a08b9['type']&&this['_deleteItem'](_0x1a08b9['index'],_0x1a08b9['howMany']);});}['_setActiveItem'](_0x1c5b9e,_0x48409d){if(-0x1!==_0x1c5b9e){const _0x25f1d3=this['items']['get'](_0x1c5b9e);_0x25f1d3&&(_0x25f1d3['isActive']=!0x1);}-0x1!==_0x48409d&&(this['items']['get'](_0x48409d)['isActive']=!0x0,this['_scrollToItem'](_0x48409d));}['_insertItem'](_0x400efb,..._0x1d49a6){const _0x762c31=_0x1d49a6['map']((_0x2e90ea,_0x2408a3)=>{const _0x12f088=new _0x180c61(this['locale'],this['showEmptyHeadingText']);return _0x12f088['text']=_0x2e90ea['text'],_0x12f088['level']=_0x2e90ea['level'],_0x400efb+_0x2408a3===this['activeItemIndex']&&(_0x12f088['isActive']=!0x0),_0x12f088;});this['items']['addMany'](_0x762c31,_0x400efb);}['_deleteItem'](_0x1848f3,_0x22e1a0){do{this['items']['remove'](_0x1848f3);}while(--_0x22e1a0);}['_handleItemClick'](_0x2ed3d9){const _0xf1749c=this['items']['getIndex'](_0x2ed3d9['source']);this['fire']('itemSelected',_0xf1749c);}['_scrollToItem'](_0x3e807e){_0x3f6def(this['items']['get'](_0x3e807e)['element'],0x14,this['_documentOutlineContainer']);}['destroy'](){super['destroy'](),this['element']['remove']();}}